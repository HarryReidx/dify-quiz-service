# Docker Compose 配置（本地开发用）
# 生产环境复用 spring-mcps 的数据库和 MinIO

version: '3.8'

services:
  quiz-service:
    build: .
    ports:
      - "8081:8081"
    environment:
      # 使用远程数据库和 MinIO
      SPRING_DATASOURCE_URL: jdbc:postgresql://117.50.75.212:5432/dify
      SPRING_DATASOURCE_USERNAME: postgres
      SPRING_DATASOURCE_PASSWORD: TyAdmin@2026
      S3_ENDPOINT: http://117.50.75.212:9000
      S3_ACCESS_KEY: minioadmin
      S3_SECRET_KEY: TyAdmin@2026
      S3_BUCKET_NAME: ty-ai-flow
      QUIZ_UPLOAD_PATH: quiz-files/
      QUIZ_PUBLIC_URL: http://117.50.75.212:9000/ty-ai-flow
